{"version":3,"file":"index.js","sources":["../../src/curve/trash.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nfunction WebGLCurve() {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (canvas === null) {\n      return\n    }\n\n    const gl = canvas.getContext('webgl');\n\n    if (!gl) {\n      console.error('WebGL not supported');\n      return;\n    }\n\n    // Vertex shader\n    const vertexShaderSource = `\n      attribute vec2 a_position;\n      void main() {\n        gl_Position = vec4(a_position, 0, 1);\n      }\n    `;\n\n    // Fragment shader\n    const fragmentShaderSource = `\n      precision mediump float;\n      void main() {\n        gl_FragColor = vec4(1, 0, 0, 1); // Red color\n      }\n    `;\n\n    // Compile shader\n    const compileShader = (type: GLenum, source: string) => {\n      const shader = gl.createShader(type);\n      if (shader === null) {\n        console.error(\"could not create shader\", source)\n        return null;\n      }\n      gl.shaderSource(shader, source);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        console.error(gl.getShaderInfoLog(shader));\n        gl.deleteShader(shader);\n        return null;\n      }\n      return shader;\n    };\n\n    const vertexShader = compileShader(gl.VERTEX_SHADER, vertexShaderSource);\n    if (vertexShader === null) {\n      console.error(\"Cannot compile vertex shader.\")\n      return;\n    }\n    const fragmentShader = compileShader(gl.FRAGMENT_SHADER, fragmentShaderSource);\n    if (fragmentShader === null) {\n      console.error(\"Cannot compile fragment shader.\")\n      return;\n    }\n\n    // Create program\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      console.error(gl.getProgramInfoLog(program));\n      return;\n    }\n\n    gl.useProgram(program);\n\n    // Curve points\n    const points = [];\n    for (let t = 0; t <= 1; t += 0.01) {\n      const x = t * 2 - 1; // Normalized x (WebGL coordinates)\n      const y = Math.sin(2 * Math.PI * t); // Sine wave\n      points.push(x, y);\n    }\n\n    // Create buffer\n    const buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(points), gl.STATIC_DRAW);\n\n    // Link position data\n    const positionLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionLocation);\n    gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n    // Draw curve\n    gl.clearColor(0, 0, 0, 1);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    gl.drawArrays(gl.LINE_STRIP, 0, points.length / 2);\n  }, []);\n\n  return <canvas ref={canvasRef} width={800} height={600} />;\n};\n\nexport default WebGLCurve;\n"],"names":["WebGLCurve","canvasRef","useRef","useEffect","canvas","current","gl","getContext","console","error","compileShader","type","source","shader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","vertexShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","points","t","x","y","Math","sin","PI","push","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","positionLocation","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","clearColor","clear","COLOR_BUFFER_BIT","drawArrays","LINE_STRIP","length","React","createElement","ref","width","height"],"mappings":"iDAEA,SAASA,IACP,MAAMC,EAAYC,EAA0B,MA+F5C,OA7FAC,GAAU,KACR,MAAMC,EAASH,EAAUI,QACzB,GAAe,OAAXD,EACF,OAGF,MAAME,EAAKF,EAAOG,WAAW,SAE7B,IAAKD,EAEH,YADAE,QAAQC,MAAM,uBAKhB,MAgBMC,EAAgB,CAACC,EAAcC,KACnC,MAAMC,EAASP,EAAGQ,aAAaH,GAC/B,OAAe,OAAXE,GACFL,QAAQC,MAAM,0BAA2BG,GAClC,OAETN,EAAGS,aAAaF,EAAQD,GACxBN,EAAGI,cAAcG,GACZP,EAAGU,mBAAmBH,EAAQP,EAAGW,gBAK/BJ,GAJLL,QAAQC,MAAMH,EAAGY,iBAAiBL,IAClCP,EAAGa,aAAaN,GACT,MAEI,EAGTO,EAAeV,EAAcJ,EAAGe,cAhCX,yHAiC3B,GAAqB,OAAjBD,EAEF,YADAZ,QAAQC,MAAM,iCAGhB,MAAMa,EAAiBZ,EAAcJ,EAAGiB,gBA7BX,+HA8B7B,GAAuB,OAAnBD,EAEF,YADAd,QAAQC,MAAM,mCAKhB,MAAMe,EAAUlB,EAAGmB,gBAInB,GAHAnB,EAAGoB,aAAaF,EAASJ,GACzBd,EAAGoB,aAAaF,EAASF,GACzBhB,EAAGqB,YAAYH,IACVlB,EAAGsB,oBAAoBJ,EAASlB,EAAGuB,aAEtC,YADArB,QAAQC,MAAMH,EAAGwB,kBAAkBN,IAIrClB,EAAGyB,WAAWP,GAGd,MAAMQ,EAAS,GACf,IAAK,IAAIC,EAAI,EAAGA,GAAK,EAAGA,GAAK,IAAM,CACjC,MAAMC,EAAQ,EAAJD,EAAQ,EACZE,EAAIC,KAAKC,IAAI,EAAID,KAAKE,GAAKL,GACjCD,EAAOO,KAAKL,EAAGC,GAIjB,MAAMK,EAASlC,EAAGmC,eAClBnC,EAAGoC,WAAWpC,EAAGqC,aAAcH,GAC/BlC,EAAGsC,WAAWtC,EAAGqC,aAAc,IAAIE,aAAab,GAAS1B,EAAGwC,aAG5D,MAAMC,EAAmBzC,EAAG0C,kBAAkBxB,EAAS,cACvDlB,EAAG2C,wBAAwBF,GAC3BzC,EAAG4C,oBAAoBH,EAAkB,EAAGzC,EAAG6C,OAAO,EAAO,EAAG,GAGhE7C,EAAG8C,WAAW,EAAG,EAAG,EAAG,GACvB9C,EAAG+C,MAAM/C,EAAGgD,kBACZhD,EAAGiD,WAAWjD,EAAGkD,WAAY,EAAGxB,EAAOyB,OAAS,EAAE,GACjD,IAEIC,EAAQC,cAAA,SAAA,CAAAC,IAAK3D,EAAW4D,MAAO,IAAKC,OAAQ,KACrD"}